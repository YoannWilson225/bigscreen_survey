<!DOCTYPE html>
<html>
<head>
    <title>Liste des questions</title>
    <!-- Inclure les styles CSS de Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-4">
        <h1>Liste des questions</h1>
        <table class="table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Question</th>
                    <th>Type</th>
                </tr>
            </thead>
            <tbody id="questions">
                <!-- Les questions seront ajoutées ici -->
            </tbody>
        </table>
    </div>

    <!-- Inclure le script JavaScript pour récupérer les questions depuis l'API -->
    <script>
        // Créer une instance de XMLHttpRequest
        const xhr = new XMLHttpRequest();

        // Définir la fonction de rappel pour la réponse
        xhr.onload = function() {
            if (xhr.status !== 200) {
                console.error(`Erreur ${xhr.status} : ${xhr.statusText}`);
                return;
            }

            const response = JSON.parse(xhr.responseText);
            const questions = response.questions;
            const questionsContainer = document.getElementById('questions');

            // Parcourir les questions et les ajouter au tableau
            questions.forEach((question, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${question.body}</td>
                    <td>${question.type}</td>
                `;
                questionsContainer.appendChild(row);
            });
        };

        // Envoyer la requête GET vers l'API
        xhr.open('GET', 'http://localhost:8000/api/questions', true);
        xhr.send();
    </script>

</body>
</html>
